# Generated with aft. To update, run: `aft generate workflows`
version: 2
enable-beta-ecosystems: true
updates:
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "weekly"
  # The `github-actions` ecosystem only searches
  # `.github/workflows` by default.
  - package-ecosystem: "github-actions"
    directory: ".github/composite_actions"
    schedule:
      interval: "weekly"

  - package-ecosystem: "npm"
    directory: "infra"
    schedule:
      interval: "weekly"
    groups:
      cdk:
        patterns:
          - "aws-cdk"
          - "aws-cdk-lib"
          - "@aws-cdk/*"
          - "constructs"
      aws-sdk-js:
        patterns:
          - "@aws-sdk/*"
          - "@aws-crypto/*"
    ignore:
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
  - package-ecosystem: "gradle"
    directory: "packages/amplify_datastore/android"
    schedule:
      interval: "weekly"
    ignore:
      # Ignore Kotlin updates since we should always match Flutter stable
      # to ensure users can have Kt versions >= Flutter stable.
      - dependency-name: "kotlin_version"
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
      
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
    groups:
      amplify-android:
        patterns:
          - "com.amplifyframework:*"
          - "com.amazonaws:*"
      mockito:
        patterns:
          - "org.mockito:*"
  - package-ecosystem: "gradle"
    directory: "packages/amplify_native_legacy_wrapper/android"
    schedule:
      interval: "weekly"
    ignore:
      # Ignore Kotlin updates since we should always match Flutter stable
      # to ensure users can have Kt versions >= Flutter stable.
      - dependency-name: "kotlin_version"
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
      
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
    groups:
      amplify-android:
        patterns:
          - "com.amplifyframework:*"
          - "com.amazonaws:*"
      mockito:
        patterns:
          - "org.mockito:*"
  - package-ecosystem: "gradle"
    directory: "packages/analytics/amplify_analytics_pinpoint/android"
    schedule:
      interval: "weekly"
    ignore:
      # Ignore Kotlin updates since we should always match Flutter stable
      # to ensure users can have Kt versions >= Flutter stable.
      - dependency-name: "kotlin_version"
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
      
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
    groups:
      amplify-android:
        patterns:
          - "com.amplifyframework:*"
          - "com.amazonaws:*"
      mockito:
        patterns:
          - "org.mockito:*"
  - package-ecosystem: "gradle"
    directory: "packages/auth/amplify_auth_cognito/android"
    schedule:
      interval: "weekly"
    ignore:
      # Ignore Kotlin updates since we should always match Flutter stable
      # to ensure users can have Kt versions >= Flutter stable.
      - dependency-name: "kotlin_version"
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
      
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
    groups:
      amplify-android:
        patterns:
          - "com.amplifyframework:*"
          - "com.amazonaws:*"
      mockito:
        patterns:
          - "org.mockito:*"
  - package-ecosystem: "gradle"
    directory: "packages/common/amplify_db_common/android"
    schedule:
      interval: "weekly"
    ignore:
      # Ignore Kotlin updates since we should always match Flutter stable
      # to ensure users can have Kt versions >= Flutter stable.
      - dependency-name: "kotlin_version"
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
      
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
    groups:
      amplify-android:
        patterns:
          - "com.amplifyframework:*"
          - "com.amazonaws:*"
      mockito:
        patterns:
          - "org.mockito:*"
  - package-ecosystem: "gradle"
    directory: "packages/notifications/push/amplify_push_notifications/android"
    schedule:
      interval: "weekly"
    ignore:
      # Ignore Kotlin updates since we should always match Flutter stable
      # to ensure users can have Kt versions >= Flutter stable.
      - dependency-name: "kotlin_version"
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
      
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
    groups:
      amplify-android:
        patterns:
          - "com.amplifyframework:*"
          - "com.amazonaws:*"
      mockito:
        patterns:
          - "org.mockito:*"
  - package-ecosystem: "gradle"
    directory: "packages/secure_storage/amplify_secure_storage/android"
    schedule:
      interval: "weekly"
    ignore:
      # Ignore Kotlin updates since we should always match Flutter stable
      # to ensure users can have Kt versions >= Flutter stable.
      - dependency-name: "kotlin_version"
      - dependency-name: "org.jetbrains.kotlin:kotlin-gradle-plugin"
      
      # Ignore patch version bumps
      - dependency-name: "*"
        update-types:
          - "version-update:semver-patch"
    groups:
      amplify-android:
        patterns:
          - "com.amplifyframework:*"
          - "com.amazonaws:*"
      mockito:
        patterns:
          - "org.mockito:*"
